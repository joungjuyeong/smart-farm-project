CREATE TABLE IF NOT EXISTS users (
    id VARCHAR(50) NOT NULL,
    password VARCHAR(100) NOT NULL,
    nickname VARCHAR(50) NOT NULL UNIQUE,
    email VARCHAR(100) NOT NULL UNIQUE,
    name VARCHAR(50) NOT NULL,
    is_black TINYINT NOT NULL DEFAULT 0,  -- BOOLEAN 대신 TINYINT(1) 사용
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (id)
);

CREATE TABLE board (
  id INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  name VARCHAR(20) NOT NULL,                 
  title VARCHAR(70) NOT NULL,       
  content TEXT NOT NULL,             
  wdate TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, 
  view INT(11) NOT NULL DEFAULT 0,   
  PRIMARY KEY (id)
);

CREATE TABLE comments (
  id INT AUTO_INCREMENT PRIMARY KEY,
  board_id INT UNSIGNED NOT NULL,
  commenter VARCHAR(20) NOT NULL,
  content TEXT NOT NULL,
  cdate TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (board_id) REFERENCES board(id) ON DELETE CASCADE
) ENGINE=InnoDB;

CREATE TABLE likes (
  id INT AUTO_INCREMENT PRIMARY KEY,
  board_id INT UNSIGNED NOT NULL,         
  user_name VARCHAR(20) NOT NULL,         
  ldate TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  UNIQUE (board_id, user_name),           
  FOREIGN KEY (board_id) REFERENCES board(id) ON DELETE CASCADE
) ENGINE=InnoDB;

CREATE TABLE farms (
   id int NOT NULL AUTO_INCREMENT,
   owner_username varchar(255) COLLATE utf8mb4_general_ci NOT NULL,
   name varchar(255) COLLATE utf8mb4_general_ci NOT NULL,
   area float NOT NULL,
   location text COLLATE utf8mb4_general_ci NOT NULL,
   PRIMARY KEY (`id`)
 ) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci
